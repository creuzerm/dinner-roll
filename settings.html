<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Roll for Carnivore Dinner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body class="bg-stone-100 min-h-screen p-4 sm:p-8 text-stone-900">

    <div class="w-full max-w-4xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-stone-900 mb-8 text-center">Settings</h1>

        <p class="text-stone-700 mb-8 text-center">
            Here you can customize the ingredients for your meals. Adjust the weight to change the probability of an item being selected, and use the "in stock" checkbox to filter out items you don't have on hand. You can also add new items to each category.
        </p>

        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-semibold text-stone-800 mb-4">Ingredients</h2>
            <div id="settings-container"></div>
        </div>

        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-semibold text-stone-800 mb-4">Add New Item</h2>
            <div class="flex items-center space-x-4">
                <input type="text" id="new-item-name" placeholder="Item Name" class="flex-grow p-2 border rounded-md">
                <input type="number" id="new-item-weight" placeholder="Weight" value="10" class="w-24 p-2 border rounded-md">
                <select id="new-item-category" class="p-2 border rounded-md"></select>
                <button id="add-item-btn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-colors">Add</button>
            </div>
        </div>

        <div class="flex justify-between">
            <a href="index.html" class="bg-stone-500 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-stone-600 focus:outline-none focus:ring-4 focus:ring-stone-300 transition-colors">Back to Dinner Roller</a>
            <button id="save-settings-btn" class="bg-green-700 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:bg-green-600 focus:outline-none focus:ring-4 focus:ring-green-400 transition-colors">Save Settings</button>
        </div>
    </div>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(registration => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
    <script src="data.js"></script>
    <script src="settings.js"></script>
</body>
</html>